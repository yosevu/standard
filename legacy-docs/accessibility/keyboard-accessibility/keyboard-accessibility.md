# Keyboard-Only Navigation
Sparkbox recognizes the importance of creating a web that is accessible to everyone, so we prioritize developing and testing for accessibility as an integral part of our process. In addition to automated testing, our developers conduct ongoing accessibility tests as they build their projects.  Manually testing content and custom site features for keyboard-only accessibility during this phase allows developers to identify and remediate issues before they become a problem for users.

To support this approach, we incorporate keyboard-only navigation testing into both our planning and development processes. Story cards and pull requests include clear instructions for testing with a keyboard to ensure that developers and testers who may not be familiar with web accessibility concepts can still successfully participate in creating accessible work.

## Why Do We Value This?
Keyboard accessibility determines how successfully a user can navigate all areas and functionality of a website using only their keyboard.  Users who most commonly benefit from keyboard-only navigation are those with visual impairments and those with motor difficulties that make using a mouse difficult or impossible. Keyboard-only navigation is especially important as it serves as the basis for a wide range of assistive technologies, such as voice input and single switch entry devices. 

## Developing and Testing for Keyboard Accessibility 
Keyboard-only navigation tests will not reflect a real user’s experience unless system-wide keyboard accessibility is enabled. Instructions for enabling keyboard accessibility on different platforms are below.

#### Keyboard Accessibility on MacOS
Keyboard accessibility is *not* enabled by default on a Mac. The default keyboard settings only allow the user to tab to form controls. System-wide keyboard accessibility must be enabled in both System Preferences and Safari Preferences to allow the user to be able to tab to other elements.

[Enabling Keyboard Accessibility on a Mac](https://dequeuniversity.com/mac/keyboard-access-mac) (Deque University)

#### Keyboard Accessibility on Windows
Keyboard accessibility is enabled by default on Windows.  

### Considerations to Test for
Once system-wide keyboard accessibility has been enabled, test the site for the following considerations. Navigation for all of the following tests begins in the URL field of the browser.

#### Tab Focusability and Tab Order
The user should be able to navigate to all elements that would naturally receive focus using the <kbd>Tab</kbd> key to move forward and the <kbd>Shift</kbd> + <kbd>Tab</kbd> keys to move backward.

The focus order of the site also determines the reading order of the content for users navigating by keyboard. By default, the focus will move to and from the next focusable element in the order that they appear in the DOM. DOM order does not always match the visual presentation of the website, so we need to test to ensure that the focus/reading order makes sense for the user. This may vary based on the site, but generally the focus should not skip to an unexpected part of the site, and the reading order should follow the same pattern that a sighted user not using keyboard-only navigation would experience.

Using a positive `tabindex` value to change the tab order should be avoided. Elements with a `tabindex` greater than `1` receive keyboard focus before other elements. This can create a situation in which the focus order is not logical to the user (for example, tabbing may take the user to an element on the center of the page and then back to the beginning of the page.)

#### Visual Focus Indicator
As users navigate a site with a keyboard, they should always be able to see the location of the current keyboard focus. Without a visual focus indicator, keyboard users can become lost or unable to tell if they are focused on an element with which they want to interact.

Sparkbox uses the [Safe Focus](https://github.com/sparkbox/safe-focus) package, which adds custom outline styles to all selectable components.

#### Focus Management
Dynamically generated content can make it challenging to ensure that keyboard-only users are able to keep track of keyboard focus. The following points should be taken into account when new content is generated or deleted by a user action:

* When new content is added to the page, the keyboard focus should be sent to the most logical place on the page, depending on the context.  For example, if the user submits a form that generates error messages for fields that are filled out incorrectly, the focus should be sent to the first field that has an error.

* When content is removed from the page by a user action, the keyboard focus should be sent to the most logical place on the page, depending on the context. For example, when a user closes a modal that was generated by their action, the focus should be returned to the element that the user interacted with to generate the modal.

#### Keyboard Traps
Keyboard traps happen when a user is unable to navigate out of an area of a web page without having access to a non-keyboard input device like a mouse. Keyboard traps are detrimental to keyboard-only users and can potentially prevent them from interacting with the site at all. 

#### Keyboard Functionality
When testing for keyboard functionality, ensure that all functionality that exists on a web page is available when using only the keyboard. This includes interacting with form elements and any custom widgets (such as custom form elements that do not use native HTML elements) that exist on the page.  

A [list of standard keystrokes for common online interactions](https://webaim.org/techniques/keyboard/#testing) can be found on WebAIM’s Keyboard Accessibility guide.

Using native HTML elements is the most effective way to make a site accessible as these elements have built-in behaviors and patterns that users expect. If creating a custom widget is necessary, the widget should be developed in a way that allows keyboard users to follow the common pattern of using <kbd>Tab</kbd> to enter and exit the widget and using the arrow keys (<kbd>↑</kbd> <kbd>↓</kbd> <kbd>→</kbd> <kbd>←</kbd>) to navigate within the widget.

#### Custom Keyboard Shortcuts and Screen Readers
Navigation with the keyboard only is not the same as navigating with a keyboard and screen reader. When a screen reader is active, it allows the user to use a unique set of keyboard shortcuts to navigate and interact with their computer and the internet. These shortcuts are not available to users who are not using a screen reader, such as a sighted user who may use keyboard-only navigation rather than a mouse due to a motor disability.

Ensure that any custom keyboard shortcuts do not interfere with the keyboard shortcuts used by screen readers. In addition to the common keyboard shortcuts shared by most screen readers, each screen reader may also have its own set of keyboard shortcuts. Deque University’s [Screen Reader Keyboard Shortcuts and Gestures](https://webaim.org/techniques/keyboard/#testing) is a good resource to see which keyboard shortcuts should be avoided.










